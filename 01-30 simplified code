<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>DrinkSeattle</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js">
  <style>
    body {
      overflow-x: hidden;
    }

    .navbar {
      text-transform: uppercase;
      font-family: Montserrat, "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-weight: 700;
    }

    .navbar a:focus {
      outline: 0;
    }

    .navbar .navbar-nav {
      letter-spacing: 1px;
    }

    .navbar .navbar-nav li a:focus {
      outline: 0;
    }

    .navbar-default,
    .navbar-inverse {
      border: 0;
    }
/* Additional style for the dynamic text in the navbar */
.navbar .dynamic-text {
  color: #800000; /* Maroon color */
  font-size: 1.5em; /* Adjust the font size as needed */
  display: flex;
  align-items: center; /* Center vertically */
  justify-content: center; /* Center horizontally */
   position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

/* Initially set to display none - modify this if you want it to be initially visible */
.navbar .dynamic-text {
  display: none;
}

    header {
      position: relative;
      background-color: #4d1c31; /* Maroon color */
      text-align: center;
      color: #fff; /* White text color, adjust as needed */
    }

    header .container {
      padding-top: 100px;
      padding-bottom: 50px;
    }
header .map-credit {
  font-style: italic;
  font-size: 0.8em; /* Adjust the font size as needed */
  position: absolute;
  bottom: 10px; /* Adjust the distance from the bottom */
  left: 50%;
  transform: translateX(-50%);
}
    @media(min-width:768px) {
      header .container {
        padding-top: 200px;
        padding-bottom: 100px;
      }

      .navbar-fixed-top {
        padding: 25px 0;
        -webkit-transition: padding .3s;
        -moz-transition: padding .3s;
        transition: padding .3s;
      }

      .navbar-fixed-top .navbar-brand {
        font-size: 2em;
        -webkit-transition: all .3s;
        -moz-transition: all .3s;
        transition: all .3s;
      }

      .navbar-fixed-top.navbar-shrink {
        padding: 10px 0;
      }

      .navbar-fixed-top.navbar-shrink .navbar-brand {
        font-size: 1.5em;
      }
    }

    /* Additional styles for the header */
    header .intro-text .page-title {
      font-family: Montserrat, "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-size: 4.5em; /* Adjust the font size as needed */
      font-weight: 700;
    }
    
    .toolbar {
      /* Your existing toolbar styles */
     display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .dropdown-container {
      position: relative;
    }
 .neighborhood-dropdown {
      display: none;
      position: absolute;
      background-color: white; /* Adjust to your desired background color */
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      width: 200px; /* Adjust the width as needed */
      border-radius: 5px; /* Add border radius for a rounded appearance */
      margin-top: 5px; /* Add a margin to separate it from the toolbar */

    }

    .neighborhood-dropdown label {
      display: block;
      padding: 8px;
      color: #4d1c31; /* Text color */
      cursor: pointer;
    }

    .neighborhood-dropdown label:hover {
      background-color: #4d1c31; /* Background color on hover */
      color: white; /* Text color on hover */
    }


    .dropdown-container:hover .neighborhood-dropdown {
      display: block;
    }
  </style>
</head>

<body id="page-top">
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
    <div class="container">
      <a class="navbar-brand" href="https://ltechiburu.github.io/2mas/">
  Tomas Echiburu
  <!-- Dynamic text element within the navbar -->
  <span class="dynamic-text" id="navbarDynamicText">DRINKSEATTLE</span>
</a>

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
        aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <!-- Add your navigation links here if needed -->
        </ul>
      </div>
    </div>
  </nav>

  <!-- Header -->
  <header>
    <div class="container">
      <div class="intro-text">
        <div class="intro-heading text-uppercase page-title">DrinkSeattle</div>
        <div class="intro-subheading">
          After 7 years in Seattle, I have found myself enjoying happy hour beers, post-bike ride rewards, late night
          cocktails and more, all around the city. Below is a guide with some of the most notable places I have
          frequented over the years.
          <br> <br> Green pins are places I would recommend to a friend, while red pins are places I think you should
          avoid. A yellow pin means decide for yourself <br>
<em class="map-credit">Map created with Google Maps API technology. Markers, reviews, and page formatting coded in HTML, JavaScript, CSS.</em>

        </div>
      </div>
    </div>
  </header>

<style>
    /* Add any custom styles for your map container if needed */
 #map {
  background: #000080; /* Deep Blue Color */
/* Gradient with vibrant colors */
  border: 3px solid #4d1c31; /* Maroon outline for contrast */
  border-radius: 25px; /* Larger border radius for a unique shape */
  box-shadow: 0 0 30px rgba(0, 0, 0, 0.5); /* Stronger box shadow for depth */
  height: 400px;
  width: 80%;
margin: auto;
  transform-origin: center center;
  transition: transform 0.5s ease-in-out, box-shadow 0.5s ease-in-out; /* Add transitions for dynamic effects */
}

#map:hover {
  transform: scale(1.05); /* Scale up and rotate the map on hover for dynamic movement */
  box-shadow: 0 0 40px rgba(0, 0, 0, 0.7); /* Adjusted box shadow on hover for added depth */
}

  </style>
  <!-- Map Container -->
  <br>
  <div id="map"></div>
  
  <!-- Bar Information Container -->
  <div class="container mt-5">
    <!-- Toolbar for sorting and future filtering options -->
    <div class="toolbar" style="background-color: #4d1c31; padding: 10px; margin-bottom: 10px;">
        <!-- Filter by Neighborhood tab -->
        <div class="filter-tab"onclick="toggleDropdown()">
          <span style="cursor: pointer; color: white;">Filter by Neighborhood â–¼</span>
          <!-- Hoverable dropdown for Filter by Neighborhood -->
          <div class="neighborhood-dropdown" id="filterNeighborhoodDropdown">
            <!-- Dynamically populate neighborhood options here -->
          
          </div>
        </div>
      <div class="dropdown-container">
        <label for="sortOptions" style="color: white;">Sort By:</label>
        <select id="sortOptions" onchange="sortBars()" style="color: black; background-color: #ffffff;">
          <option value="" disabled selected>-- Select One --</option>
          <option value="rating">Rating</option>
          <option value="neighborhood">Neighborhood</option>
        </select>
      </div>
    </div>

    <div id="barsContainer" style="margin-top: 20px;">
      <!-- Bar reviews will be displayed here -->
    </div>
  </div>

  <!-- JavaScript for Google Maps API -->
  <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDS9EmKPBq8kLzNHkv1QE4ERosIpxn0SpQ&callback=initMap"
  onerror="handleError()"></script>


  <script>
    // Bar data
   const bars = [
    { name: "Lockspot Cafe", lat: 47.61408822189972, lng: -122.31873314450276, neighborhood: "Ballard", rating: 3, description: "Conveniently located right off the Burke Gilman, by the entrance to the Ballard Locks. Nice place for a pick-me-up when on a bike loop. Solid Salmon & Clam Chowder" },
    { name: "Cha Cha Lounge", lat: 47.61408822189972, lng: -122.31873314450276, neighborhood: "Capitol Hill", rating: 3.5, description: "Dark basement bar. Loud and stuffy on weekend nights." },
    { name: "Comet Tavern", lat: 47.61422207930257, lng: -122.31974761189863, neighborhood: "Capitol Hill", rating: 3, description: "Fun for a typical Capitol Hill weekend experience. DJ, dance floor, plenty of seating attracts a young crowd looking for a party." },
    { name: "Reinhaus", lat: 47.61103153264929, lng: -122.31659875249146, neighborhood: "Capitol Hill", rating: 3, description: "A German-style beerhouse notorious for serving drinks by the liter. Open space, bocce ball courts, and pretzels make this a great event space for large groups." },
    { name: "Big Marios Queen Anne", lat: 47.62688190974978, lng: -122.3474890850639, neighborhood: "Queen Anne", rating: 4, description: "Delicious pizza. Great people. Never too busy, unless there is a Seattle Center Event." },
    { name: "Bad Bar", lat: 47.62693666041298, lng: -122.34777491704351, neighborhood: "Queen Anne", rating: 4, description: "Their name isn't lying; it's not a good bar. However, the vibes, bartenders, weekly trivia, and free pool make up for it. A cult classic for LQA locals." },
    { name: "Laredos Bar & Grill", lat: 47.627089941063645, lng: -122.34598242899212, neighborhood: "Queen Anne", rating: 4, description: "A Tex-Mex restaurant with good daily deals. Stop by on Margarita Monday for a surprisingly delicious Avocado Marg." },
    { name: "Sam's Tavern SLU", lat: 47.622305965175855, lng: -122.3393139289621, neighborhood: "South Lake Union", rating: 2, description: "One of the few lively SLU bars. Large space, bar food, and many TV's make up the pluses. Rude servers and security, strange table policies, and the prototypical young SLU crowd are the detractors." },
    { name: "Shortyâ€™s", lat: 47.61460917409165, lng: -122.34599499679788, neighborhood: "Belltown", rating: 4.5, description: "One of my favorite places to grab a drink with friends. Divey, dusty, charming clown-themed bar. Try the dogs if you dare (donâ€™t). A separate room filled with pinball, fortune tellers, and big buck hunter make it entertaining if conversation runs dry." },
    { name: "Buckley's in Belltown", lat: 47.61466267986194, lng: -122.3469253638575, neighborhood: "Belltown", rating: 2, description: "Average sports bar. Meh" },
    { name: "Jupiter Bar", lat: 47.613255073988924, lng: -122.34385331063083, neighborhood: "Belltown", rating: 4.5, description: "Fun, dark bar with themed cocktails. Wander into the back and find a huge arcade room with any game you can imagine. Hope you arenâ€™t a germaphobe." },
    { name: "Cyclops", lat: 47.61454298984738, lng: -122.34868890091433, neighborhood: "Belltown", rating: 3.5, description: "Located across the street from the Crocodile, a great place to grab a bite and a drink before a concert." },
    { name: "Fremont Brewing Beer Garden", lat: 47.649078402927096, lng: -122.34445794953707, neighborhood: "Fremont", rating: 4.5, description: "The premier location to enjoy a beer with company on a sunny day. Huge patio, cute dogs, delicious brews." },
    { name: "McGilvra's Bar & Restaurant", lat: 47.63645977516459, lng: -122.27728768120579, neighborhood: "Madison Valley", rating: 3, description: "Nearest locale to Madison Beach Park. Irish Pub with a nice small patio for enjoying a Guiness after a day at the beach" },
    { name: "Zoo Tavern", lat: 47.639875468690406, lng: -122.32607278478677, neighborhood: "Eastlake", rating: 3.5, description: "If you ever find yourself stranded around Eastlake, this is the place to go. Great service, divey atmosphere. Pinball and Skeeball in the back. CASH ONLY" },
    { name: "Rooftop Brewing Company", lat: 47.65573606123333, lng: -122.37321709903422, neighborhood: "Interbay", rating: 4, description: "After countless times passing their signs on the Ship Canal Trail, stopped by for a refreshing Hazy IPA. Great patio with food trucks." },
    { name: "Duchess Tavern", lat: 47.668354352668494, lng: -122.29611100669129, neighborhood: "UDistrict", rating: 4.5, description: "Hands down my favorite college bar. Husky memorabilia set the mood in this divey tavern. Plenty of indoor seating, with a covered patio in the back. $7.50 Miller Light pitchers are the crown jewel" },
    { name: "Agua Verde Cafe", lat: 47.65161823886362, lng: -122.31432914203118, neighborhood: "UDistrict", rating: 4, description: "Mexican Restaurant with an unbeatable location. Enjoy a margarita while watching the boats pass through Montlake" },
    { name: "Diller Room", lat: 47.60688957802126, lng: -122.33794599714233, neighborhood: "Downtown", rating: 4, description: "Classy cocktail bar in the 'heart' of downtown. Backroom is available to be rented out for events. Nice place to bring your peacoat." },
    { name: "Pine Box", lat: 47.615621389154555, lng: -122.32760045348222, neighborhood: "Capitol Hill", rating: 2.5, description: "Located inside an old mortuary, the vibe would make you question if it was ever discontinued. Cool for the novelty, and the CBD soda on tap that is a good wind-down after a concert at the Paramount." },
    { name: "Queen Anne BeerHall", lat: 47.620834288946504, lng: -122.35993415527336, neighborhood: "Queen Anne", rating: 4, description: "THE place to catch a Seattle sporting event. Huge dining-hall style tables make it a fun environment." },
    { name: "Buckley's in Queen Anne", lat: 47.6208179079742, lng: -122.35792266008076, neighborhood: "Queen Anne", rating: 4, description: "Buckley's Belltown's sexy older brother. Great brunch food, fun environment to watch a game. Awesome decorations." },
    { name: "TS McHugh's", lat: 47.62446909455736, lng: -122.35592425959506, neighborhood: "Queen Anne", rating: 2.5, description: "Irish pub with plenty of tables and some fun bar games. However, my respect was lost when asked to put on the Husky game, and the bartended asked 'Whats that?'. SMH." },
    { name: "Reuben's Brews - The Ballard Taproom", lat: 47.665465528352826, lng: -122.37330006025805, neighborhood: "Ballard", rating: 4, description: "Among the slew of Ballard breweries, this is my favorite. Great beer, nice patio, live music, food carts. Could use more seating" },
    { name: "Cone & Steiner", lat: 47.624069980123366, lng: -122.30715985614836, neighborhood: "Capitol Hill", rating: 3.5, description: "Upscale corner store, with a few taps for pints at the counter or growlers to go." },
    { name: "Bottleneck Lounge", lat: 47.61994554208163, lng: -122.30166336779637, neighborhood: "Madison Valley", rating: 4.5, description: "Intimate cocktail lounge with great specialty options." },
    { name: "Supernova Seattle", lat: 47.5745429336916, lng: -122.33355252113338, neighborhood: "SoDo", rating: 2, description: "Admittedly, clubs really aren't my style. Cool decorations and interesting live performances on the front stage." },
    { name: "Sluggers", lat: 47.597140627857705, lng: -122.33346813939671, neighborhood: "Pioneer Square", rating: 4, description: "Iconic location near the stadiums. 2 stories and a great environment pregame or postgame" },
    { name: "Harry's Bar", lat: 47.62376617073672, lng: -122.3124485198594, neighborhood: "Capitol Hill", rating: 2.5, description: "Bistro vibe with patios in the front and back. Loses stars for the abomination that claims to be a Pisco Sour." },
    { name: "SPIN", lat: 47.611778071282636, lng: -122.33520639293829, neighborhood: "Downtown", rating: 2.5, description: "Ping Pong bar that is simply not worth the price of admission" },
    { name: "Applebees", lat: 47.47102724427043, lng: -122.21325196417064, neighborhood: "Renton", rating: 1, description: "It's definitely a place" },
    { name: "Olmstead", lat: 47.621584626884164, lng: -122.32062462276608, neighborhood: "Capitol Hill", rating: 3.5, description: "Solid brunch spot with fun specialty cocktails. Instagrammable space" },
    { name: "Kangaroo & Kiwi", lat: 47.66891226962797, lng: -122.38339899583251, neighborhood: "Ballard", rating: 0.5, description: "Let's just leave it at that." },
    { name: "The George & Dragon Pub", lat: 47.65286264340001, lng: -122.3561849353735, neighborhood: "Fremont", rating: 4, description: "The best place to watch a European soccer game, if you are able to arrive 2 hours early. Indoor seating fills up with diehards fast. Enjoy a full English breakfast with an imperial pint of Guinness." },
    { name: "Petoskeys", lat: 47.6525474628298, lng: -122.35660491462605, neighborhood: "Fremont", rating: 4, description: "Unable to find seating at The George? Come across the street to watch the game with a bar full of people in the same predicament. Very lively." },
    { name: "Chop Suey", lat: 47.613698164692074, lng: -122.31441806581357, neighborhood: "Capitol Hill", rating: 4, description: "Closest thing to a club experience I've enjoyed in Seattle. Dance floor, two full bars, and a separate room with seating if you'd like to relax. Long line on weekends, wrapping around a conveniently situated hot dog cart" },
    { name: "Elysian Capitol Hill Brewery", lat: 47.6140007158274, lng: -122.31585452895688, neighborhood: "Capitol Hill", rating: 3.5, description: "Disappointingly average brewery for an excellent brew company. Outdoor seating in the summer." },
    { name: "Linda's Tavern", lat: 47.61510965770488, lng: -122.32305864492366, neighborhood: "Capitol Hill", rating: 5, description: "Ideal place to start your night, end your night, or stay for hours. Plenty of indoor space, and a large patio with a second bar." },
    { name: "Chuck's Hop Shop", lat: 47.61275369631337, lng: -122.30575919448475, neighborhood: "Central District", rating: 3.5, description: "Brewery with large covered patio, though no heaters so bring layers. Dozens of taps make it an undecisive's nightmare. Has seating, snacks, and bottles/cans inside." },
    { name: "Earl's on the Ave", lat: 47.66082298368687, lng: -122.31345315800598, neighborhood: "UDistrict", rating: 3, description: "The UW campus bar. With it comes everything you would."},
    { name: "Monkey Pub", lat: 47.66733949063284, lng: -122.31752593324471, neighborhood: "Capitol Hill", rating: 3.5, description: "Very fun trivia night with a great host. Great change of pace from the Ave bars." },
    { name: "Screwdriver Bar", lat: 47.61387929324114, lng: -122.34704004299293, neighborhood: "Belltown", rating: 4, description: "Rock 'n' Roll haven located in a dimly lit Belltown basement." },
    { name: "Pono Ranch", lat: 47.66191402421682, lng: -122.37667788748455, neighborhood: "Ballard", rating: 3.5, description: "Top tier patio with live music." },
    { name: "Liberty", lat: 47.62358717185944, lng: -122.3127881630273, neighborhood: "Capitol Hill", rating: 3.5, description: "Neat cocktail bar with smooth jazz music ambiance. Suspiciously cheap sushi."},
    { name: "The Woods", lat:  47.61460792168599, lng: -122.31779622447934, neighborhood: "Capitol Hill", rating: 1.5, description: "Maybe the wildest location in a neighborhood full of crazy places. Head to the second floor for a tattoo over a foldable table"},
    { name: "Cairde Public House", lat:  47.62567671686758, lng: -122.34778015487751, neighborhood: "Queen Anne", rating: 3.5, description: "Try the Kraken Tan for a fun beer cocktail. Would rate it higher if it weren't the go-to bar for senior citizens here on a cruise stop."},
    { name: "Streamline Tavern", lat:  47.62555487685477, lng: -122.35300020851011, neighborhood: "Queen Anne", rating: 4, description: "The definition of a tavern. Dark, divey, local clientele. Hidden Gem."},
    { name: "Solo Bar & Eatery", lat:  47.62558266561406, lng: -122.35195582027507, neighborhood: "Queen Anne", rating: 3, description: "Quiet bar with comfortable seating. Occasional live DJ. "},
    { name: "Ozzie's", lat: 47.62441355349332, lng: -122.35834282939787, neighborhood: "Queen Anne", rating: 3, description: "The most popular QA bar. Huge 2 floor space with a fun kareoke room. Definitely a lot on weekends"},
    { name: "Art Marble", lat: 47.62632294185964, lng: -122.3394121627187, neighborhood: "South Lake Union", rating: 3, description: "Large adult playground. Jumbo jenga, ping pong, air hockey, etc. all free to play. Seperate room with a more traditional bar. Sometimes feel like im crashing a tech wedding party."},
    { name: "A Stir", lat: 47.614228199902, lng: -122.32114312224228, neighborhood: "Capitol Hill", rating: 4, description: "Formerly Capitol Hill Cider. Large cider house with a downstairs second bar, containging board games, shuffle board."},
    { name: "La Cocina Cantina", lat: 47.62296711854967, lng:-122.32073988929287, neighborhood: "Capitol Hill", rating: 3.5, description: "Mexican Restaurant with a seperate bar and patio in the back. Try their super-sized margarita."},
    { name: "Kremwerk", lat: 47.617007736609985, lng: -122.33107141243305, neighborhood: "South Lake Union", rating: 3.5, description: "Hidden venue for House music shows. A part of a triad of venues tucked away inbetween apartment buildings."},
    { name: "The Pubb Inn", lat: 47.6496168613726,lng: -122.34296516352504, neighborhood: "Fremont", rating: 4, description: "Late night divey diner. Covered back patio is a nice place to grab a beer with friends. Famously visited by Bourdain"},
    { name: "Ravenna Brewing", lat: 47.66835932492963, lng: -122.2992294784149, neighborhood: "UDistrict", rating: 4, description: "Truthfully some of the best beers in the city. Fill a growler up in the back, or stay for a lively environment."},
    { name: "Growler Guys", lat: 47.690607911529355, lng: -122.30725701627583, neighborhood: "North Seattle", rating: 4, description: "Extensive beer selection, classic seattle brew house."},
    { name: "Ohana", lat: 47.61273876386744, lng: -122.34569761513198, neighborhood: "Belltown", rating: 4, description: "Hawaiian sushi restaurant/bar run by great people. On weekends it opens up with a dance floor with fun DJ's. Try a Mai Tai!"},
    { name: "Vindicktive Wings", lat: 47.61392223325723, lng: -122.34713697050344, neighborhood: "Belltown", rating: 4, description: "These aren't food reviews, but they have great wings. Try their Industry Sour, or opt for the house lager at $4 a pint."},
    { name: "Navy Strength", lat: 47.61532679620589, lng: -122.34821061248498, neighborhood: "Belltown", rating: 3, description: "Tiki bar that will often redecorate seasonally. Expensive cocktails for a subpar environment IMO."},
    { name: "Montana", lat: 47.61793933884953, lng: -122.32630907692204, neighborhood: "Capitol Hill", rating: 4.5, description: "Something about the over-the-top tagged walls makes this place feel warm. Always a fun time, try one of their rotating cocktails on tap or opt for a Pickle-back shot if you please."},
    { name: "The Chieftain", lat: 47.610737722120184, lng: -122.31659783985415, neighborhood: "Capitol Hill", rating: 4, description: "Classic Irish pub frequented by SU students. Live irish music on occasion."},
    { name: "The Runaway", lat: 47.61374558290373, lng: -122.3197564882229, neighborhood: "Capitol Hill", rating: 3.5, description: "Laid back extension of Neumos."},
    { name: "Pub 70", lat: 47.61476300290897, lng: -122.354707648648, neighborhood: "Waterfront", rating: 4, description: "Located at the very edge of the waterfront, they have an amazing location with a side patio on the water."},
    { name: "Hillside", lat: 47.61827568801803, lng: -122.3260063564375, neighborhood: "Capitol Hill", rating: 2.5, description: "Surprisngly quiet for it's location, something is a bit off in here. They have an upstairs balcony with arcade games and darts."},
    { name: "Madison Pub", lat: 47.613494888512086, lng: -122.31491988039689, neighborhood: "Capitol Hill", rating: 3.5, description: "Fun environment iside an intriguing building. Some may look past the rainbow flags outside, but I feel I should ensure you that it IS a gay bar. Some (not me) may be fooled."},
    { name: "Bimbos Cantina", lat: 47.61397028083403, lng: -122.31881201539647, neighborhood: "Capitol Hill", rating: 3.5, description: "Bar with mexican food. Life hack - If you find yourself in the insanity that can be the Cha Chas line, head upstairs to grab a drink instead, and bring it down."},
    { name: "Vue Lounge", lat: 47.614710850487484, lng: -122.34646227758935, neighborhood: "Belltown", rating: 1, description: "Club that takes themselves way too seriously. What's with the strict dress code and $20 cover to listen to YG in a sweaty pit?"},




     
     // Add more bar data as needed
  ];
let activeFilter = false;
let filteredBars = [];

 function initMap() {
  const map = new google.maps.Map(document.getElementById('map'), {
    center: { lat: 47.6062, lng: -122.3321 }, // Seattle coordinates
    zoom: 12,
  });

  // Add markers and info windows
  bars.forEach(bar => {
    const marker = new google.maps.Marker({
      position: { lat: bar.lat, lng: bar.lng },
      map: map,
      title: bar.name,
      icon: getMarkerIcon(bar.rating), // Set the marker icon based on rating
    });
    const infowindow = new google.maps.InfoWindow({
      content: `<div style="font-size:16px;"><strong class="bar-marker">${bar.name}</strong> - <em>${bar.neighborhood}</em></div>` +
        `<div style="font-size:18px;">Rating: ${getRatingStars(bar.rating)}</div>` +
        `<div style="font-size:14px;">${bar.description}</div>`
    });

    marker.addListener('click', function () {
      infowindow.open(map, marker);
    });
  });

  // Display bar information below the map
  bars.forEach(bar => {
    displayBarInfo(bar);
  });
}

// Helper function to get marker icon based on rating
function getMarkerIcon(rating) {
  if (!isNaN(rating)) {
    if (rating >= 4) {
      return {
        url: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png',
        scaledSize: new google.maps.Size(32, 32),
        origin: new google.maps.Point(0, 0),
        anchor: new google.maps.Point(16, 32),
      };
    } else if (rating >= 3) {
      return {
        url: 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png',
        scaledSize: new google.maps.Size(32, 32),
        origin: new google.maps.Point(0, 0),
        anchor: new google.maps.Point(16, 32),
      };
    }
  }

  return {
    url: 'http://maps.google.com/mapfiles/ms/icons/red-dot.png',
    scaledSize: new google.maps.Size(32, 32),
    origin: new google.maps.Point(0, 0),
    anchor: new google.maps.Point(16, 32),
  };
}


  // Helper function to get star ratings
  function getRatingStars(rating) {
    const fullStars = "â˜…".repeat(Math.floor(rating));
    const halfStar = (rating % 1 !== 0) ? "Â½" : "";
    const emptyStars = "â˜†".repeat(Math.floor(5 - rating));
    return `${fullStars}${halfStar}${emptyStars}`;
  }

  function displayBarInfo(bar) {
    const barsContainer = document.getElementById("barsContainer");
    const barElement = document.createElement("div");
    barElement.classList.add("bar-info");
    
    barElement.innerHTML = `<div class="bar-name"><strong>${bar.name}</strong> - <span class="neighborhood"><em>${bar.neighborhood}</em></span></div>` +
      `<div>${getRatingStars(bar.rating)}</div>` +
      `<div class="description">${bar.description}</div>` +
      `<hr>`;

    barsContainer.appendChild(barElement);
  }
    
   // Function for sort ability
function sortBars() {
  const sortOptions = document.getElementById("sortOptions");
  const selectedOption = sortOptions.value;

  if (selectedOption === "rating") {
    if (activeFilter) {
      // Sort the filtered bars by rating
      filteredBars.sort((a, b) => b.rating - a.rating);
    } else {
      // Sort all bars by rating
      bars.sort((a, b) => b.rating - a.rating);
    }
  } else if (selectedOption === "neighborhood") {
    if (activeFilter) {
      // Sort the filtered bars by neighborhood
      filteredBars.sort((a, b) => a.neighborhood.localeCompare(b.neighborhood));
    } else {
      // Sort all bars by neighborhood
      bars.sort((a, b) => a.neighborhood.localeCompare(b.neighborhood));
    }
  }

  // Clear the current barsContainer content
  const barsContainer = document.getElementById("barsContainer");
  barsContainer.innerHTML = '';

  // Display the sorted bars
  const barsToDisplay = activeFilter ? filteredBars : bars;
  barsToDisplay.forEach(bar => {
    displayBarInfo(bar);
  });
}

    
// Function to generate neighborhood options
    function generateNeighborhoodOptions() {
      const neighborhoodDropdown = document.getElementById("filterNeighborhoodDropdown");
      const uniqueNeighborhoods = [...new Set(bars.map(bar => bar.neighborhood))];
      // Count reviews for each neighborhood
  const neighborhoodsCount = uniqueNeighborhoods.reduce((count, neighborhood) => {
    count[neighborhood] = bars.filter(bar => bar.neighborhood === neighborhood).length;
    return count;
  }, {});
      // Sort neighborhoods alphabetically
  uniqueNeighborhoods.sort();
      // Clear existing options
      neighborhoodDropdown.innerHTML = '';
// Add Apply button
  const applyButton = document.createElement("button");
  applyButton.innerText = "Apply";
  applyButton.addEventListener("click", applyFilter);
  neighborhoodDropdown.appendChild(applyButton);
      // Add Clear Filter button
  const clearFilterButton = document.createElement("button");
  clearFilterButton.innerText = "Clear Filter";
  clearFilterButton.addEventListener("click", clearFilter); // Attach the clear filter function
  neighborhoodDropdown.appendChild(clearFilterButton);
      // Populate neighborhood options
      uniqueNeighborhoods.forEach(neighborhood => {
        const label = document.createElement("label");
        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.value = neighborhood;
        label.appendChild(checkbox);
        label.appendChild(document.createTextNode(` ${neighborhood} (${neighborhoodsCount[neighborhood]})`));

        neighborhoodDropdown.appendChild(label);
      });
    }

// Function to apply the selected filter
function applyFilter() {
  const selectedNeighborhoods = Array.from(document.querySelectorAll('#filterNeighborhoodDropdown input[type="checkbox"]:checked'))
    .map(checkbox => checkbox.value);

 filteredBars = bars.filter(bar => selectedNeighborhoods.includes(bar.neighborhood));
  activeFilter = true;
  
  // Clear the current barsContainer content
  const barsContainer = document.getElementById("barsContainer");
  barsContainer.innerHTML = '';

  // Display the filtered bars
  filteredBars.forEach(bar => {
    displayBarInfo(bar);
  });
}
    // Function to clear the filter
function clearFilter() {
  const checkboxes = document.querySelectorAll('#filterNeighborhoodDropdown input[type="checkbox"]');
  checkboxes.forEach(checkbox => {
    checkbox.checked = true;
  });
 
  activeFilter = false;
  applyFilter(); // Reapply filter to show all reviews
}
    // Call the function to generate neighborhood options when the page loads
    generateNeighborhoodOptions();

// Add this function to your existing JavaScript code
function toggleDropdown() {
  const dropdown = document.querySelector(".neighborhood-dropdown");
  dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
}

   // Add a scroll event listener to toggle the visibility of the dynamic text
   document.addEventListener('scroll', function () {
  // Get the height of the maroon header
  var maroonHeaderHeight = document.querySelector('header').offsetHeight;
  // Get the scroll position
  var scrollPosition = window.scrollY;

  var threshold = maroonHeaderHeight * 0.5;

  // Check if the scroll position is greater than or equal to the threshold
  if (scrollPosition >= threshold) {
    // Show the dynamic text on the navbar
    document.querySelector('.navbar-brand .dynamic-text').style.display = 'block';
  } else {
    // Hide the dynamic text on the navbar
    document.querySelector('.navbar-brand .dynamic-text').style.display = 'none';
  }
});
   
  </script>
</body>

</html>
